<html>
    <h2 style="text-align: center;">Color change</h2>
    <style>
        table{
        border-collapse: collapse; 
        height: 400px;
        width: 400px; 
        border: 2px solid black;
        border-radius: 3px;
        }
        .center{
       margin-left: auto;
       margin-right: auto;
        }
        
    </style>
<body>
     
    <center><input type="button" class="center" style="background-color: rgb(186, 224, 224); padding: 10;" id="start" onclick="tableCreate(); setTimer();" value="Start Game">
</center>
    
    <div style="text-align: center;margin: 5px;" id="countdown"></div>

    <table border ="1" id="t1"  align="center">
        
    </table>
    <p id="timer" style="text-align: center;">Time :</p>
    <p style="text-align: center; color: brown; font-size: 20px; font-weight: bold;" id = "count">Score=0</p>
    <script>
        // row = 2;
        // column = 2;
        var count = 0;

        function setTimer()
        {
            var counter = 10;
            var interval_p = setInterval(function()
            {
                counter--;
                if(counter <= 0)
                {
                    clearInterval(interval_p);
                    
                    document.getElementById('timer').innerHTML = "Time Over" ;
                  //document.getElementById('t1').style.visibility = 'hidden';  
                    document.getElementById('start').style.visibility = "visible";
                    document.getElementById('t1').style.visibility = 'hidden';
                 
                    //windows.location.reload();
                    setTimeout(reloadPage, 1000);
                    return;
                }
                else{
                    document.getElementById('timer').innerHTML = counter;
                }
            },1000);
        }

        function reloadPage()
        {
            location.reload();
            
        }

        function tableCreate()
            {
            document.getElementById("start").style.visibility = 'hidden';
            document.getElementById("t1").style.visibility = 'visible';

            let tbl1=document.getElementById("t1")
            var seemar=Math.floor(Math.random() * (255 - 1) + 1);
            var seemag=Math.floor(Math.random() * (255 - 1) + 1);
            var seemab=Math.floor(Math.random() * (255 - 1) + 1);

            var randomr = Math.floor(Math.random() * (3 - 1) + 1);
            var randomc = Math.floor(Math.random() * (3 - 1) + 1);

            let s="";
            for(var i=1; i<=3; i++)
            {
                s = s + "<tr>";
                for(var j=1; j<=3; j++)
                {
                    if(i==randomr && j==randomc)
                    {
                    s+= "<td style=background-color:rgba(" + seemar +',' + seemag + ',' +seemab + ',' + 0.8 + "); onclick='priya();'></td>";
                    }
                    else if(i<=3 && j<=3)
                    {
                    s += "<td style=background-color:rgb(" + seemar +',' + seemag + ',' +seemab + ")></td>";
                    }
                }
            s=s+"</tr>";
            }
            tbl1.innerHTML=s;
            }


        function priya()
        {
            
            row+=1;
            column+=1;
            
            var r_priya = Math.floor(Math.random() * (255 - 1) + 1);
            var g_priya = Math.floor(Math.random() * (255 - 1) + 1);
            var b_priya = Math.floor(Math.random() * (255 - 1) + 1);
            
            var random_r = Math.floor(Math.random() * (row -1)+ 1);
            var random_c = Math.floor(Math.random() * (column -1)+ 1);

            console.log(r_priya, g_priya, b_priya);
            x = "";
            for(var i=1; i<=row; i++)
            {
                x+= "<tr >";
                for(var j=1; j<=column; j++)
                {
                    if(i == random_r && j == random_c)
                    {
                        x+= "<td style= background-color:rgba("+ r_priya + "," + g_priya + "," + b_priya+ ","+0.6+"); onclick='priya()'></td>";
                        count++;
                    }
                    else if(i <=row && j<= column)
                    {
                        x += "<td style= background-color:rgb("+ r_priya + "," + g_priya + "," + b_priya+")></td>";
                    }

                }
                x+= "</tr>";
            }
            t1.innerHTML = x;
            document.getElementById("count").innerHTML = "score:"+count ;

                       
        }
    </script>
</body>
</html>
